# 音乐情感标注系统 (Mood Rater)

一个基于 Valence-Arousal 模型的音乐情感实时标注系统，用于研究音乐情感感知的个体差异。

## ✨ 项目简化说明

这是一个独立的音乐情感标注工具，已将所有必要功能集成到单个HTML文件中，无需额外的服务器或依赖项即可运行。

## 🎵 功能特性

### 核心功能
- **音乐播放器**: 支持多种音频格式，内置示例音乐
- **VA 空间标注**: 基于 Valence-Arousal 二维情感模型的实时标注
- **情感标签**: 97个预定义情感标签，覆盖广泛的情感状态
- **实时标注**: 支持音乐播放过程中的实时情感标注
- **历史记录**: 完整的标注历史记录和查看
- **数据导出**: JSON格式的数据导出功能

### 技术特性
- **响应式设计**: 适配不同屏幕尺寸
- **现代化UI**: 美观的渐变背景和交互效果
- **Canvas绘图**: 高性能的VA空间可视化
- **实时交互**: 流畅的用户交互体验

## 🚀 快速开始

### 1. 打开应用
直接在浏览器中打开 `mood-rater-final.html` 文件即可开始使用。无需安装任何依赖或运行服务器。

### 2. 基本使用流程
1. **加载音乐**: 点击"加载示例音乐"按钮或使用自己的音频文件
2. **开始播放**: 使用音频播放器控制播放
3. **情感标注**: 在VA空间中点击来标注当前感知的情感
4. **查看历史**: 在标注历史区域查看所有标注记录
5. **导出数据**: 完成标注后导出JSON格式的数据

## 📊 VA 空间说明

### Valence (效价)
- **X轴**: 从负向情感(左)到正向情感(右)
- **范围**: 0.0 - 1.0
- **含义**: 情感的正负性，积极vs消极

### Arousal (唤醒)
- **Y轴**: 从低能量(下)到高能量(上)
- **范围**: 0.0 - 1.0
- **含义**: 情感的激活程度，平静vs兴奋

### 情感区域分布
- **右上角**: 高唤醒正效价 (如: 兴奋、快乐)
- **左上角**: 高唤醒负效价 (如: 愤怒、焦虑)
- **右下角**: 低唤醒正效价 (如: 平静、放松)
- **左下角**: 低唤醒负效价 (如: 悲伤、疲惫)
- **中心**: 中性情感

## 🏷️ 情感标签系统

系统包含97个预定义情感标签，基于AMG和ANEW数据集：

### 主要情感类别
- **积极情感**: 快乐、兴奋、温暖、希望、自信等
- **消极情感**: 悲伤、愤怒、焦虑、恐惧、失望等
- **中性情感**: 平静、放松、中性、严肃等
- **复杂情感**: 好奇、困惑、怀疑、敬畏等

### 标签使用
- 点击情感标签可快速定位到对应VA区域
- 标签作为参考指南，不限制用户的自定义标注
- 系统会自动识别最近的情感标签

## 📈 数据格式

### 标注数据结构
```json
{
  "timestamp": "2024-01-01T12:00:00.000Z",
  "totalRatings": 5,
  "ratings": [
    {
      "valence": 0.8,
      "arousal": 0.7,
      "emotion": "happy",
      "timestamp": 15.5,
      "time": "12:00:15"
    }
  ]
}
```

### 字段说明
- `valence`: 效价值 (0.0-1.0)
- `arousal`: 唤醒值 (0.0-1.0)
- `emotion`: 识别的情感标签
- `timestamp`: 音乐播放时间戳
- `time`: 标注时间

## 🎯 使用建议

### 标注指导
1. **完整聆听**: 确保完整聆听音乐片段
2. **及时标注**: 感知到情感变化时及时标注
3. **最少标注**: 每个片段至少5次标注
4. **真实感受**: 标注个人真实的情感体验

### 最佳实践
- 在安静环境中进行标注
- 使用耳机获得更好的音频体验
- 保持专注，避免干扰
- 定期保存和导出数据

## 🔧 技术实现

### 前端技术
- **HTML5**: 页面结构和语义化
- **CSS3**: 样式和动画效果
- **JavaScript**: 交互逻辑和数据处理
- **Canvas API**: VA空间绘制和交互

### 核心算法
- **坐标转换**: 鼠标坐标到VA值的映射
- **最近邻算法**: 情感标签匹配
- **数据序列化**: JSON格式数据导出

## 📁 项目结构

```
mood-rater/
├── mood-rater-final.html    # 主应用文件（独立运行）
├── README.md               # 项目说明文档
├── .gitignore              # Git忽略文件配置
└── .git/                   # Git版本控制目录
```

### 文件说明
- **mood-rater-final.html**: 完整的音乐情感标注应用，包含所有必要的HTML、CSS和JavaScript代码
- **README.md**: 项目说明和使用指南
- **其他文件**: Git版本控制相关文件

### 独立运行特性
✅ **零依赖**: 无需Node.js、服务器或其他运行时环境  
✅ **即开即用**: 双击HTML文件即可在浏览器中运行  
✅ **完全离线**: 所有功能都可以在离线环境下正常工作  
✅ **跨平台**: 支持Windows、macOS、Linux等所有主流操作系统  
✅ **轻量级**: 单文件包含所有功能，便于分享和部署

## 🎨 界面设计

### 设计理念
- **简洁明了**: 清晰的界面布局和操作流程
- **视觉引导**: 色彩渐变和图标辅助理解
- **响应式**: 适配不同设备和屏幕尺寸
- **用户友好**: 直观的操作和反馈

### 色彩方案
- **主色调**: 蓝紫色渐变 (#667eea → #764ba2)
- **背景色**: 白色和浅灰色
- **强调色**: 蓝色系 (#667eea)
- **状态色**: 绿色(成功)、红色(警告)

## 🔮 未来扩展

### 计划功能
- [ ] 多用户支持
- [ ] 云端数据同步
- [ ] 高级分析工具
- [ ] 机器学习集成
- [ ] 移动端应用

### 技术改进
- [ ] WebSocket实时通信
- [ ] 数据库集成
- [ ] API接口开发
- [ ] 性能优化

## 📄 许可证

本项目采用 MIT 许可证，详见 LICENSE 文件。

## 🤝 贡献指南

欢迎提交 Issue 和 Pull Request 来改进这个项目。

### 贡献方式
1. Fork 项目
2. 创建功能分支
3. 提交更改
4. 发起 Pull Request

## 📞 联系方式

如有问题或建议，请通过以下方式联系：
- 提交 GitHub Issue
- 发送邮件至项目维护者

---

**注意**: 这是一个研究工具，标注结果仅代表个人主观感受，不具有绝对客观性。
